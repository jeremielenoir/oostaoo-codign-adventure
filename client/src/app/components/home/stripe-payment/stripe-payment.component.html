<div class="purchase-payment-parent">
  <div class="container purchase-payment">
    <div class="row align-middle">
      <div class="left-col col-md-6">
        <img class="logo" src="../../assets/logo_ROODEO.svg" alt="Logo" />
        <h5 class="offer-title">{{offerChoice?.title}}</h5>
        <h3 style="display: inline-block;">{{offerChoice?.price + '€ '}}</h3>
        <h6 style="display: inline-block; color: gray;">/mois</h6>
        <p class="offer-desc">
          {{offerChoice.description}}
        </p>
        <a class="back-to-offers" href="" [routerLink]="['/subscription']">Retour aux offres</a>
      </div>
      <div class="right-col col-md-6">
        <h4>Payer par carte bancaire</h4>
        <form style="margin-top: 25px;" novalidate (ngSubmit)="buy()" [formGroup]="stripeFormGroup">
          <div class="form-group">
            <input required [(ngModel)]="cardOwnerName" type="text" class="form-control StripeElement" formControlName="name" placeholder="Titulaire de la carte">
          </div>
          <div class="form-group">
            <div id="card-element" class="field"></div>
          </div>
          <button *ngIf="!stripeSuccess" [disabled]="isBuyBtnDisabled()" class="payment-button"
          type="submit" mat-flat-button color="primary" id="payment"> {{ 'PAYER ' + offerChoice?.price + '€     '}}
            <mat-progress-spinner *ngIf="stripeLoader" style="display: inline-block;"
                color="primary"
                mode="indeterminate"
                diameter="20"
                value="50">
            </mat-progress-spinner>
        </button>
        </form>
        <div style="margin-top: 10px;" class="alert alert-danger error-stripe" *ngIf="stripeError">{{ stripeError }}</div>
        <div style="margin-top: 10px;" class="alert alert-success success-stripe" *ngIf="stripeSuccess">{{ stripeSuccess }}
          <br><br><a routerLink="/dashboard/campaigns"><button mat-flat-button color="basic" >Revenir à roodeo</button></a>
        </div>
        <div class="loader">
        </div>
      </div>
    </div>
  </div>
</div>
