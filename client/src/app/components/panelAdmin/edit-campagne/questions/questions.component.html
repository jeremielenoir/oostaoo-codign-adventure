<div id="top-bar">

  <div class="segment3">

    <h3 class="title-segment">Score moyen attendu</h3>
    <p id="score">
      33%
      <!-- <i class="fas fa-info-circle info"></i> -->
    </p>

  </div>

  <div class="segment2">
    <button class="custom-buttom custom-buttom-anul" mat-flat-button [routerLink]="['/dashboard/campaigns']"
      (click)="SendQuestionSelected()">
      <i class="fas fa-chevron-left icon-arrow-btn"></i>

      Retour
    </button>
    <button class="custom-buttom" mat-flat-button [routerLink]="['/dashboard/campaigns']"
      (click)="SendQuestionSelected()">
      Enregistre
    </button>
  </div>
</div>
<div class="container-edit-question">


  <div id="content">
    <div class="example-container">
      <div class="bar" id="">
        <i class="far fa-question-circle bar-icon"></i>
        <p class="bar-text">Notre collection de questions</p>
        <div id="div-search">
          <input type="text" id="search-input" placeholder="Recherche" name="search" [(ngModel)]="searchText" />
          <i class="fas fa-search search-icon"></i>
        </div>
        <button mat-flat-button id="bar-btn-search" class="custom-buttom">
          Recherche avancée
        </button>
        <button mat-flat-button class="custom-buttom">
          Trier par <i class="fas fa-chevron-right"></i>
        </button>
      </div>

      <div cdkDropList #todoList="cdkDropList" [cdkDropListData]="allQuestionsCampaign"
        [cdkDropListConnectedTo]="[doneList]" class="example-list" (cdkDropListDropped)="drop($event)">
        <div class="example-box" *ngFor="let item of allQuestionsCampaign | filter: searchText" cdkDrag>


          <div class="partie-left-example-box">

            <p class="question-techno">{{ item.technologies.name }}</p>

            <p class="question-name" matTooltip="{{item.name}}">{{ item.name }}</p>

          </div>


          <span *ngIf="item.level === 'expert'" matTooltip="Difficulté Expert">
            <i class="fas fa-puzzle-piece drop-icon"></i> |
            <i class="fas fa-puzzle-piece drop-icon"></i> |
            <i class="fas fa-puzzle-piece drop-icon"></i> |
          </span>

          <span *ngIf="item.level === 'moyen'" matTooltip="Difficulté Moyen">
            <i class="fas fa-puzzle-piece drop-icon"></i> |
            <i class="fas fa-puzzle-piece drop-icon"></i> |

          </span>
          <span *ngIf="item.level === 'facile'" matTooltip="Difficulté Facile">
            <i class="fas fa-puzzle-piece drop-icon"></i> |

          </span>

          <p>{{ item.points }} points</p>
          | <i class="fas fa-list-ul drop-icon"></i> |
          <p matTooltip="Durée(heure:min:sec)">{{ fmtMSS(item.time) }}</p>




        </div>
      </div>
    </div>

    <div class="example-container">
      <div class="bar" id="">
        <div id="bar2-left">
          <i class="far fa-list-alt bar-icon"></i>
          <p class="bar-text">Votre Campagne</p>
        </div>
        <div id="bar2-right">
          <button mat-flat-button class="custom-buttom" color="primary">
            <i class="fas fa-play"></i> Prévisualiser
          </button>
          <button mat-flat-button class="custom-buttom" color="primary">
            <i class="fas fa-trash"></i>
          </button>
        </div>
      </div>

      <div cdkDropList #doneList="cdkDropList" [cdkDropListData]="questionsByCampaign"
        [cdkDropListConnectedTo]="[todoList]" class="example-list" (cdkDropListDropped)="drop($event)">
        <p id="drop-text">Glissez/déposez une question ici</p>
        <div class="example-box" *ngFor="let itemQuestions of questionsByCampaign" cdkDrag>



          <div class="partie-left-example-box">
            <p class="question-techno">
              {{ itemQuestions.technologies.name }}
            </p>

            <p class="question-name" matTooltip="{{itemQuestions.name}}">{{ itemQuestions.name }}</p>

          </div>
          <span *ngIf="itemQuestions.level === 'expert'" matTooltip="Difficulté Expert">
            <i class="fas fa-puzzle-piece drop-icon"></i> |
            <i class="fas fa-puzzle-piece drop-icon"></i> |
            <i class="fas fa-puzzle-piece drop-icon"></i> |
          </span>

          <span *ngIf="itemQuestions.level === 'moyen'" matTooltip="Difficulté Moyen">
            <i class="fas fa-puzzle-piece drop-icon"></i> |
            <i class="fas fa-puzzle-piece drop-icon"></i> |

          </span>
          <span *ngIf="itemQuestions.level === 'facile'" matTooltip="Difficulté Facile">
            <i class="fas fa-puzzle-piece drop-icon"></i> |

          </span>
          <p>{{ itemQuestions.points }} points</p>
          | <i class="fas fa-list-ul drop-icon"></i> |
          <p matTooltip="Durée(heure:min:sec)">{{  fmtMSS(itemQuestions.time) }}</p>
        </div>
      </div>
    </div>
  </div>
</div>