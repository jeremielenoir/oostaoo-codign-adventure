<app-route-component></app-route-component>
<app-breadcrumb [namePage]="'Facturation'"></app-breadcrumb>
<mat-progress-bar *ngIf="inProgress" class="roodeo-progress-bar" mode="query"></mat-progress-bar>
<div class="rdo-panel" style="margin-top: 130px;">
  <div class="rdo-panel-header">
    <h2><i class="fa fa-tachometer icon"></i> Tableau de bord facturation</h2>
  </div>
  <div fxLayout="row" fxLayoutGap="20px">
    <div fxFlex="50" class="rdo-content-group">
      <div>
        <h3><i class="fa fa-map-marker icon"></i> Adresse de facturation</h3>
        <button type="button" mat-stroked-button (click)="addOrEditAddress()"
            color="primary">{{ account && account.billing_address ? 'Editer' : 'Ajouter une adresse'}}</button>
      </div>
      <div>
        <app-address [address]="getAddress()"></app-address>
      </div>
    </div>
    <div fxFlex="50" class="rdo-content-group">
      <div>
        <h3><i class="fa fa-credit-card icon"></i> Carte de crédit</h3>
        <button type="button" mat-stroked-button (click)="addOrEditCard()" color="primary">Modifier</button>
      </div>
      <div fxLayoutAlign="center center">
        <app-creditcard [card]="card"></app-creditcard>
      </div>
    </div>
  </div>
  <div fxLayout="row" fxLayoutGap="20px">
    <div fxFlex="50" class="rdo-content-group">
      <div>
        <h3><i class="fa fa-money icon"></i> Prochaine facture</h3>
      </div>
      <div>

      </div>
    </div>
    <div fxFlex="50" class="rdo-content-group">
      <div>
        <h3><i class="fa fa-shopping-cart icon"></i> Détails abonnement</h3>
      </div>
      <div>
      </div>
    </div>
  </div>
</div>
<div class="rdo-panel">
  <div class="rdo-panel-header">
    <h2><i class="fa fa-history icon"></i> Historique des factures</h2>
  </div>
  <div fxLayout="row" fxLayoutGap="20px">
    <div fxFlex="100" class="rdo-content-group">
      <div>
        <table>
          <thead>
            <tr>
              <th>Date</th>
              <th>Montant</th>
              <th>Statut</th>
              <th>Numéro de facture</th>
              <th>Voir</th>
              <th>Télécharger</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let facture of  facture">
              <td>{{facture.date | date: 'dd/MM/yyyy'}}</td>
              <td>{{facture.montant}} €</td>
              <td>{{facture.statut}}</td>
              <td>{{facture.numero_facture}}</td>
              <td><i (click)="exportPdf()" class="far fa-eye icon icon-button"></i></td>
              <td><i (click)="downloadPdf()" class="fa fa-download icon icon-button" [ngStyle]="{'margin': 'auto'}"></i>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
